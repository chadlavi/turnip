(this.webpackJsonpturnips=this.webpackJsonpturnips||[]).push([[0],{15:function(e,t,n){e.exports=n(23)},20:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(10),l=n.n(i),o=n(14),c=n(4),s=(n(20),function(e){var t=e.quantity*e.initialPrice,n=e.quantity*e.currentPrice,a=n-t;return{gross:n,investment:t,lossful:a<0,profit:a,profitable:a>0,profitPercentage:(a/t*100||0).toFixed(2)}}),u=function(e){return(e||0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},m=n(1),d=function(e){var t=e.history,n=e.setHistory;return t.length>0?a.createElement(m.d,null,a.createElement(m.e,null,a.createElement(m.f,{as:"h2",id:"history-header"},a.createElement("span",null,"Saved data\xa0"),a.createElement(m.a,{id:"clear-history-button",onClick:function(e){e.preventDefault(),n("[]"),localStorage.removeItem("history")},className:"elevation-1"},"Delete all"))),a.createElement(m.e,null,a.createElement(m.l,{direction:"horizontal",contentMinWidth:728},a.createElement(m.m,null,a.createElement(m.p,null,a.createElement(m.q,null,a.createElement(m.o,{as:"th"},"Quantity"),a.createElement(m.o,{as:"th"},"Initial price"),a.createElement(m.o,{as:"th"},"Sale price"),a.createElement(m.o,{as:"th"},"Gross"),a.createElement(m.o,{as:"th"},"Profit"),a.createElement(m.o,{as:"th"},"Time"))),a.createElement(m.n,null,t.sort((function(e,t){return e&&t?new Date(t.time).getTime()-new Date(e.time).getTime():0})).map((function(e,t){if(e){var n=s({quantity:e.quantity,initialPrice:e.initialPrice,currentPrice:e.currentPrice}),r=n.gross,i=n.lossful,l=n.profit,o=n.profitable,c=n.profitPercentage;return a.createElement(m.q,{key:e.time.toString()||t},a.createElement(m.o,null,u(e.quantity)),a.createElement(m.o,null,u(e.initialPrice)),a.createElement(m.o,null,u(e.currentPrice)),a.createElement(m.o,null,u(r)),a.createElement(m.o,{className:o?"good":i?"bad":void 0},u(l)," (",o?"+":"",c,"%)"),a.createElement(m.o,null,function(e){var t=new Date,n=e.toDateString(),a=t.toDateString()===n,r=e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return"".concat(a?"Today":n,", ").concat(r)}(new Date(e.time))))}return""}))))))):null},f=parseFloat(localStorage.getItem("quantity")||""),g=parseFloat(localStorage.getItem("initialPrice")||""),v=parseFloat(localStorage.getItem("currentPrice")||""),h=localStorage.getItem("history")||"[]",p=function(){var e=r.a.useState(f),t=Object(c.a)(e,2),n=t[0],a=t[1],i=r.a.useState(g),l=Object(c.a)(i,2),p=l[0],E=l[1],b=r.a.useState(v),y=Object(c.a)(b,2),w=y[0],S=y[1],P=r.a.useState(h),k=Object(c.a)(P,2),N=k[0],I=k[1],T=[{label:"Quantity",value:n,setter:a,id:"quantity"},{label:"Initial price",value:p,setter:E,id:"initialPrice"},{label:"Current price",value:w,setter:S,id:"currentPrice"}],q=n||0,D=p||0,C=w||0,O=s({currentPrice:C,initialPrice:D,quantity:q}),W=O.gross,j=O.investment,F=O.lossful,A=O.profit,J=O.profitable,B=O.profitPercentage,L=(0===n||void 0===n)&&(0===p||void 0===p)&&(0===w||void 0===w),R=0===j&&0===A&&0===W,x=function(e){var t=e.currentTarget;setTimeout((function(){t.select()}),100)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.j,null,r.a.createElement(m.d,{spacing:8},r.a.createElement(m.e,null,r.a.createElement(m.f,null,"Turnip calc")),r.a.createElement(m.e,{size:6},r.a.createElement(m.d,{spacing:8},T.map((function(e){var t;return r.a.createElement(m.e,{key:e.id},r.a.createElement(m.h,{htmlFor:e.id},e.label),r.a.createElement(m.g,{id:e.id,name:e.id,onChange:(t=e.setter,function(n){var a=parseFloat(n.currentTarget.value||"0");t(a),localStorage.setItem(e.id,a.toString())}),type:"number",inputMode:"decimal",pattern:"[0-9]*",value:e.value,min:0,onFocus:x,onClick:x}))})),r.a.createElement(m.e,{className:"button-row"},r.a.createElement(m.a,{id:"clear-button",onClick:function(e){e.preventDefault(),a(void 0),E(void 0),S(void 0),T.forEach((function(e){return localStorage.removeItem(e.id)}))},disabled:L,className:L?void 0:"elevation-1"},"Reset fields")))),r.a.createElement(m.e,{size:6},r.a.createElement("div",{className:"elevation-4",id:"results"},r.a.createElement("div",null,r.a.createElement("p",null,"Investment: ",u(j)),r.a.createElement("p",null,"Gross: ",u(W)),r.a.createElement("p",{className:J?"good":F?"bad":void 0},F?"Loss":"Profit",": ",u(A)," (",J?"+":"",B,"%)")),r.a.createElement(m.k,{className:"button-row"},r.a.createElement(m.a,{id:"save-button",onClick:function(e){e.preventDefault();var t=JSON.parse(localStorage.getItem("history")||"[]"),n=t instanceof Array?t:[],a=[].concat(Object(o.a)(n),[{time:new Date,quantity:q,initialPrice:D,currentPrice:C}]),r=JSON.stringify(a);I(r),localStorage.setItem("history",r)},disabled:R,primary:!0,className:R?void 0:"elevation-2"},"Save")))),r.a.createElement(m.e,null,r.a.createElement(d,{setHistory:I,history:JSON.parse(N)}),r.a.createElement(m.k,{className:"github-link"},"Built with ",r.a.createElement(m.i,{href:"https://chadlavi.github.io/clear/"},"Clear")," \xb7 ",r.a.createElement(m.i,{href:"https://github.com/chadlavi/turnip"},"https://github.com/chadlavi/turnip"))))))},E=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function b(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!==n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(m.b,null),r.a.createElement(m.c,null),r.a.createElement(p,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/turnip",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/turnip","/service-worker.js");E?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!==a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):b(e,t)})).catch((function(){console.log("No internet connection found. Turnip is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):b(t,e)}))}}()}},[[15,1,2]]]);
//# sourceMappingURL=main.332df025.chunk.js.map