(this.webpackJsonpturnips=this.webpackJsonpturnips||[]).push([[0],{12:function(e,t,a){},13:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(5),i=a.n(l),c=a(6),o=a(2),u=(a(12),function(e){var t=e.quantity*e.initialPrice,a=e.quantity*e.currentPrice,n=a-t;return{gross:a,investment:t,lossful:n<0,profit:n,profitable:n>0,profitPercentage:(n/t*100||0).toFixed(2)}}),s=function(e){return(e||0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},m=function(e){var t=e.history,a=e.setHistory;return t.length>0?n.createElement(n.Fragment,null,n.createElement("h2",{id:"history-header"},n.createElement("span",null,"Saved data\xa0"),n.createElement("button",{id:"clear-history-button",onClick:function(e){e.preventDefault(),a("[]"),localStorage.removeItem("history")}},"delete all")),n.createElement("div",{id:"history-container"},n.createElement("table",null,n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",null,"Quantity"),n.createElement("th",null,"Initial price"),n.createElement("th",null,"Sale price"),n.createElement("th",null,"Gross"),n.createElement("th",null,"Profit"),n.createElement("th",null,"Time"))),n.createElement("tbody",null,t.sort((function(e,t){return e&&t?new Date(t.time).getTime()-new Date(e.time).getTime():0})).map((function(e,t){if(e){var a=u({quantity:e.quantity,initialPrice:e.initialPrice,currentPrice:e.currentPrice}),r=a.gross,l=a.lossful,i=a.profit,c=a.profitable,o=a.profitPercentage;return n.createElement("tr",{key:e.time.toString()||t},n.createElement("td",null,s(e.quantity)),n.createElement("td",null,s(e.initialPrice)),n.createElement("td",null,s(e.currentPrice)),n.createElement("td",null,s(r)),n.createElement("td",{className:c?"good":l?"bad":void 0},s(i)," (",c?"+":"",o,"%)"),n.createElement("td",null,function(e){var t=new Date,a=e.toDateString(),n=t.toDateString()===a,r=e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return"".concat(n?"Today":a,", ").concat(r)}(new Date(e.time))))}return""})))))):null},d=localStorage.getItem("quantity")||"",g=localStorage.getItem("initialPrice")||"",p=localStorage.getItem("currentPrice")||"",h=localStorage.getItem("history")||"[]",E=function(){var e=r.a.useState(d),t=Object(o.a)(e,2),a=t[0],n=t[1],l=r.a.useState(g),i=Object(o.a)(l,2),E=i[0],f=i[1],v=r.a.useState(p),b=Object(o.a)(v,2),y=b[0],S=b[1],P=r.a.useState(h),w=Object(o.a)(P,2),I=w[0],k=w[1],N=[{label:"Quantity",value:a,onChange:n,id:"quantity"},{label:"Initial price",value:E,onChange:f,id:"initialPrice"},{label:"Current price",value:y,onChange:S,id:"currentPrice"}],D=parseFloat(a)||0,q=parseFloat(E)||0,C=parseFloat(y)||0,O=u({currentPrice:C,initialPrice:q,quantity:D}),F=O.gross,T=O.investment,j=O.lossful,J=O.profit,x=O.profitable,B=O.profitPercentage,G=0===a.length&&0===E.length&&0===y.length,H=0===T&&0===J&&0===F;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Turnip calc"),r.a.createElement("main",{className:"app"},r.a.createElement("form",{id:"inputs",className:"half"},N.map((function(e){return r.a.createElement("label",{key:e.id},r.a.createElement("span",null,e.label),r.a.createElement("input",{id:e.id,name:e.id,onChange:function(t){var a=t.target.value.replace(/[a-zA-Z]/gi,"");e.onChange(a),localStorage.setItem(e.id,a)},type:"text",value:e.value}))})),r.a.createElement("p",{className:"button-row"},r.a.createElement("button",{id:"clear-button",onClick:function(e){e.preventDefault(),n(""),f(""),S(""),N.forEach((function(e){return localStorage.removeItem(e.id)}))},disabled:G,type:"button"},"reset fields"))),r.a.createElement("div",{className:"half"},r.a.createElement("div",{id:"results"},r.a.createElement("div",null,r.a.createElement("p",null,"Investment: ",s(T)),r.a.createElement("p",null,"Gross: ",s(F)),r.a.createElement("p",{className:x?"good":j?"bad":void 0},j?"Loss":"Profit",": ",s(J)," (",x?"+":"",B,"%)")),r.a.createElement("p",{className:"button-row"},r.a.createElement("button",{id:"save-button",onClick:function(e){e.preventDefault();var t=JSON.parse(localStorage.getItem("history")||"[]"),a=[].concat(Object(c.a)(t),[{time:new Date,quantity:D,initialPrice:q,currentPrice:C}]),n=JSON.stringify(a);k(n),localStorage.setItem("history",n)},disabled:H},"save")))),r.a.createElement(m,{setHistory:k,history:JSON.parse(I)}),r.a.createElement("div",{className:"github-link"},r.a.createElement("a",{href:"https://github.com/chadlavi/turnip",rel:"noopener noreferrer",target:"_blank"},"https://github.com/chadlavi/turnip"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,a){e.exports=a(13)}},[[7,1,2]]]);
//# sourceMappingURL=main.df485672.chunk.js.map