(this.webpackJsonpturnips=this.webpackJsonpturnips||[]).push([[0],{15:function(e,t,n){e.exports=n(23)},20:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(10),l=n.n(i),o=n(14),c=n(3),s=(n(20),function(e){var t=e.quantity*e.initialPrice,n=e.quantity*e.currentPrice,a=n-t;return{gross:n,investment:t,lossful:a<0,profit:a,profitable:a>0,profitPercentage:(a/t*100||0).toFixed(2)}}),u=function(e){return(e||0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},m=n(1),d=function(e){var t=a.useState(!1),n=Object(c.a)(t,2),r=n[0],i=n[1],l=e.history,o=e.setHistory,d=l.length>0;return a.createElement(a.Fragment,null,d&&a.createElement(m.d,null,a.createElement(m.e,null,a.createElement(m.f,{as:"h2",id:"history-header"},a.createElement("span",null,"Saved data\xa0"),a.createElement(m.a,{id:"clear-history-button",onClick:function(e){e.preventDefault(),o("[]"),localStorage.removeItem("history"),i(!0)},className:"elevation-1"},"Delete all"))),a.createElement(m.e,null,a.createElement(m.m,{direction:"horizontal",contentMinWidth:728},a.createElement(m.n,null,a.createElement(m.q,null,a.createElement(m.r,null,a.createElement(m.p,{as:"th"},"Quantity"),a.createElement(m.p,{as:"th"},"Initial price"),a.createElement(m.p,{as:"th"},"Sale price"),a.createElement(m.p,{as:"th"},"Gross"),a.createElement(m.p,{as:"th"},"Profit"),a.createElement(m.p,{as:"th"},"Time"))),a.createElement(m.o,null,l.sort((function(e,t){return e&&t?new Date(t.time).getTime()-new Date(e.time).getTime():0})).map((function(e,t){if(e){var n=s({quantity:e.quantity,initialPrice:e.initialPrice,currentPrice:e.currentPrice}),r=n.gross,i=n.lossful,l=n.profit,o=n.profitable,c=n.profitPercentage;return a.createElement(m.r,{key:e.time.toString()||t},a.createElement(m.p,null,u(e.quantity)),a.createElement(m.p,null,u(e.initialPrice)),a.createElement(m.p,null,u(e.currentPrice)),a.createElement(m.p,null,u(r)),a.createElement(m.p,{className:o?"good":i?"bad":void 0},u(l)," (",o?"+":"",c,"%)"),a.createElement(m.p,null,function(e){var t=new Date,n=e.toDateString(),a=t.toDateString()===n,r=e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return"".concat(a?"Today":n,", ").concat(r)}(new Date(e.time))))}return""}))))))),a.createElement(m.j,{open:r,setOpen:i,error:!0,mini:!0},"Saved data deleted"))},p=parseFloat(localStorage.getItem("quantity")||""),f=parseFloat(localStorage.getItem("initialPrice")||""),v=parseFloat(localStorage.getItem("currentPrice")||""),g=localStorage.getItem("history")||"[]",h=function(){var e=r.a.useState(p),t=Object(c.a)(e,2),n=t[0],a=t[1],i=r.a.useState(f),l=Object(c.a)(i,2),h=l[0],E=l[1],b=r.a.useState(v),y=Object(c.a)(b,2),S=y[0],w=y[1],P=r.a.useState(g),k=Object(c.a)(P,2),N=k[0],I=k[1],O=r.a.useState(!1),T=Object(c.a)(O,2),j=T[0],D=T[1],q=[{label:"Quantity",value:n,setter:a,id:"quantity"},{label:"Initial price",value:h,setter:E,id:"initialPrice"},{label:"Current price",value:S,setter:w,id:"currentPrice"}],C=n||0,F=h||0,W=S||0,A=s({currentPrice:W,initialPrice:F,quantity:C}),J=A.gross,B=A.investment,L=A.lossful,R=A.profit,x=A.profitable,z=A.profitPercentage,M=(0===n||void 0===n)&&(0===h||void 0===h)&&(0===S||void 0===S),U=0===B&&0===R&&0===J,G=function(e){var t=e.currentTarget;setTimeout((function(){t.select()}),100)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.k,null,r.a.createElement(m.d,{spacing:8},r.a.createElement(m.e,null,r.a.createElement(m.f,null,"Turnip calc")),r.a.createElement(m.e,{size:6},r.a.createElement(m.d,{spacing:8},q.map((function(e){var t;return r.a.createElement(m.e,{key:e.id},r.a.createElement(m.h,{htmlFor:e.id},e.label),r.a.createElement(m.g,{id:e.id,name:e.id,onChange:(t=e.setter,function(n){var a=parseFloat(n.currentTarget.value||"0");t(a),localStorage.setItem(e.id,a.toString())}),type:"number",inputMode:"decimal",pattern:"[0-9]*",value:e.value,min:0,onFocus:G,onClick:G}))})),r.a.createElement(m.e,{className:"button-row"},r.a.createElement(m.a,{id:"clear-button",onClick:function(e){e.preventDefault(),a(void 0),E(void 0),w(void 0),q.forEach((function(e){return localStorage.removeItem(e.id)}))},disabled:M,className:M?void 0:"elevation-1"},"Reset fields")))),r.a.createElement(m.e,{size:6},r.a.createElement("div",{className:"elevation-4",id:"results"},r.a.createElement("div",null,r.a.createElement("p",null,"Investment: ",u(B)),r.a.createElement("p",null,"Gross: ",u(J)),r.a.createElement("p",{className:x?"good":L?"bad":void 0},L?"Loss":"Profit",": ",u(R)," (",x?"+":"",z,"%)")),r.a.createElement(m.l,{as:"div",className:"button-row"},r.a.createElement(m.a,{id:"save-button",onClick:function(e){e.preventDefault();var t=JSON.parse(localStorage.getItem("history")||"[]"),n=t instanceof Array?t:[],a=[].concat(Object(o.a)(n),[{time:new Date,quantity:C,initialPrice:F,currentPrice:W}]),r=JSON.stringify(a);I(r),localStorage.setItem("history",r),D(!0)},disabled:U,primary:!0,className:U?void 0:"elevation-2"},"Save"),r.a.createElement(m.j,{open:j,setOpen:D,mini:!0},"Saved")))),r.a.createElement(m.e,null,r.a.createElement(d,{setHistory:I,history:JSON.parse(N)}),r.a.createElement(m.l,{className:"github-link"},"Built with ",r.a.createElement(m.i,{href:"https://chadlavi.github.io/clear/"},"Clear")," \xb7 ",r.a.createElement(m.i,{href:"https://github.com/chadlavi/turnip"},"https://github.com/chadlavi/turnip"))))))},E=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function b(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!==n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(m.b,null),r.a.createElement(m.c,null),r.a.createElement(h,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/turnip",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/turnip","/service-worker.js");E?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!==a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):b(e,t)})).catch((function(){console.log("No internet connection found. Turnip is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):b(t,e)}))}}()}},[[15,1,2]]]);
//# sourceMappingURL=main.5fbede0c.chunk.js.map